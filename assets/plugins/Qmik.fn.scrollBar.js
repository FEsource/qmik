!function(a){function b(a,b){var d=c(b)*b.parent().height()-36;a.css({height:d})}function c(a){var b=a.parent().height();return b/(a.height()||1)}function d(d){function h(){A&&A.stop(),A=a.delay(function(){A=null,y.css({transition:"1000ms",background:"rgba(0,0,0,0)"})},1200),y.css({transition:"1000ms","background-color":r.scrollBar.bg||"rgba(0,0,0,0.5)"})}function i(a){if(!a.touches)return"Y";var b=a.touches?a.touches[0]:a;return E.x=b.clientX-D.x,Math.abs(E.x)>=r.goX?"X":(E.y=b.clientY-D.y,Math.abs(E.y)>=r.goY?"Y":null)}function j(a){var b=H?100:10;switch(a){case 1:return Math.abs(C.y)-b>=F-G+10;case 2:return C.y>=b}return!1}function k(){return D.x<r.border||e.innerWidth-D.x<r.border}function l(a){var b=!1;if(a.touches){var c=a.touches?a.touches[0]:a;E.x=c.clientX-D.mX,E.y=c.clientY-D.mY,D.mX=c.clientX,D.mY=c.clientY,j(E.y>0?2:1)?b=!1:(C.x+=E.x,C.y+=E.y,b=!0)}else E.x=E.y=r.mousewheel,event.wheelDelta>=120?j(2)?b=!1:(C.x+=E.x,C.y+=E.y,C.x=C.x>=0?0:C.x,C.y=C.y>=0?0:C.y,b=!0):event.wheelDelta<=-120&&(j(1)?b=!1:(C.x-=E.x,C.y-=E.y,b=!0));return b}function m(a){a.preventDefault(),a.stopPropagation()}function n(a){B=null;var b=a.touches?a.touches[0]:a;D.mX=D.x=b.clientX,D.mY=D.y=b.clientY}function o(b){if(F=s.height(),G=t.height(),a.likeNull(B))return B=i(b),void 0;if(!k()&&"X"!=B&&"Y"==B){if(m(b),!l(b))return;q(s,C.y,H?100:1)}}function p(b){if(!k()){if("Y"==B){if(m(b),B=null,C.y>30)r.update&&r.update(B),C.y=0,a.delay(function(){q(s,0,500)},100);else if(C.y-30<=G-F){if(r.update&&r.update(B),G>=F)return C.y=0,a.delay(function(){q(s,0,500)},100),void 0;C.y=G-F,a.delay(function(){q(s,C.y,500)},100)}return!1}B=null}}function q(b,d,e){e=e||1,h(),b.css(a.cssPrefix({transition:e+"ms",transform:"translateY("+d+"px)"}));var f=-d*c(b);y.css(a.cssPrefix({transition:e+"ms",transform:"translateY("+f+"px)"}))}var r=a.extend({},f,d),s=this,t=s.parent(),u="muid_"+parseInt(1e5*Math.random()),v=r.mid||u,w=null,x=null,y=null;if(s.css(a.cssPrefix({transition:"10ms",transform:"translateY(0px)"})),t.height()>e.innerHeight-30&&t.css({height:e.innerHeight-30+"px",minHeight:e.innerHeight-30+"px"}),t.css(g),s.each(function(b,c){a(c).css(g)}),r.showScroll){a("div[map-selector='"+s.selector+"']",s.context).remove(),t.append('<div map-selector="'+s.selector+'" class="c-q-scroll" mid="'+v+'" muid="'+u+'"><div class="c-q-bg"><div class="c-q-bar"></div></div></div>'),w=a("[muid="+u+"]",t),x=a(".c-q-bg",w),y=a(".c-q-bar",w),w.css({height:t.height()+"px",minWidth:"3px",width:r.width+"px",maxWidth:r.maxWidth+"px",border:"0",padding:"0",margin:"0",overflow:"hidden",position:"absolute",top:"0",right:"1px"}),w.css(g),x.css({minWidth:"3px",height:t.height()+"px"}),x.css(g);var z=x.width()/2+1;y.css({minWidth:"3px",background:"rgba(0,0,0,0.005)",borderRadius:z+"px"}),y.css(g),b(y,s)}var A,B,C={x:0,y:0},D={x:0,y:0,mX:0,mY:0},E={x:0,y:0},F=s.height(),G=t.height(),H=a.isWP()||a.isAndroid()||a.isIphone();s.un("touchstart",s[0].__q_scrollbar_start),s.un("mouseover",s[0].__q_scrollbar_start),s.un("mousedown",s[0].__q_scrollbar_start),s.un("touchmove",s[0].__q_scrollbar_scroll),s.un("mousewheel",s[0].__q_scrollbar_scroll),s.un("touchend",s[0].__q_scrollbar_end),s.un("mouseup",s[0].__q_scrollbar_end),s.on({touchstart:n,mouseover:n,mousedown:n,touchmove:o,mousewheel:o,touchend:p,mouseup:p}),s.attr("data-bindScrollBar","true"),s[0].__q_scrollbar_start=n,s[0].__q_scrollbar_scroll=o,s[0].__q_scrollbar_end=p}var e=window,f={height:e.innerHeight,width:3,maxWidth:5,goX:60,goY:30,border:8,showScroll:!0,mousewheel:50,scrollBar:{bg:"rgba(0,0,0,0.5)"}},g=a.extend({},a.cssPrefix({"backface-visibility":"hidden"}));a.fn.scrollBar=d,a.sun&&a.sun.define(function(b,c,d){d.exports=a})}(Qmik);