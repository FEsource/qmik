!function(a){function b(a,b){var d=c(b)*b.parent().height()-36;a.css({height:d})}function c(a){var b=a.parent().height();return b/(a.height()||1)}function d(d){function g(){z&&z.stop(),z=a.delay(function(){z=null,x.css({transition:"1000ms",background:"rgba(0,0,0,0)"})},1200),x.css({transition:"1000ms","background-color":q.scrollBar.bg||"rgba(0,0,0,0.5)"})}function h(a){if(!a.touches)return"Y";var b=a.touches?a.touches[0]:a;return D.x=b.clientX-C.x,Math.abs(D.x)>=q.goX?"X":(D.y=b.clientY-C.y,Math.abs(D.y)>=q.goY?"Y":null)}function i(a){var b=G?100:10;switch(a){case 1:return Math.abs(B.y)-b>=E-F+10;case 2:return B.y>=b}return!1}function j(){return C.x<q.border||a(window).width()-C.x<q.border}function k(a){var b=!1;if(a.touches){var c=a.touches?a.touches[0]:a;D.x=c.clientX-C.mX,D.y=c.clientY-C.mY,C.mX=c.clientX,C.mY=c.clientY,i(D.y>0?2:1)?b=!1:(B.x+=D.x,B.y+=D.y,b=!0)}else D.x=D.y=q.mousewheel,event.wheelDelta>=120?i(2)?b=!1:(B.x+=D.x,B.y+=D.y,B.x=B.x>=0?0:B.x,B.y=B.y>=0?0:B.y,b=!0):event.wheelDelta<=-120&&(i(1)?b=!1:(B.x-=D.x,B.y-=D.y,b=!0));return b}function l(a){a.preventDefault(),a.stopPropagation()}function m(a){A=null;var b=a.touches?a.touches[0]:a;C.mX=C.x=b.clientX,C.mY=C.y=b.clientY}function n(b){if(E=r.height(),F=s.height(),a.likeNull(A))return A=h(b),void 0;if(!j()&&"X"!=A&&"Y"==A){if(l(b),!k(b))return;p(r,B.y,G?100:1)}}function o(b){if(!j()){if("Y"==A){if(l(b),A=null,B.y>30)q.update&&q.update(A),B.y=0,a.delay(function(){p(r,0,500)},100);else if(B.y-30<=F-E){if(q.update&&q.update(A),F>=E)return B.y=0,a.delay(function(){p(r,0,500)},100),void 0;B.y=F-E,a.delay(function(){p(r,B.y,500)},100)}return!1}A=null}}function p(b,d,e){e=e||1,g(),b.css(a.cssPrefix({transition:e+"ms",transform:"translateY("+d+"px)"}));var f=-d*c(b);x.css(a.cssPrefix({transition:e+"ms",transform:"translateY("+f+"px)"}))}var q=a.extend({},e,d),r=this,s=r.parent(),t="muid_"+parseInt(1e5*Math.random()),u=q.mid||t,v=null,w=null,x=null;if(r.css(a.cssPrefix({transition:"10ms",transform:"translateY(0px)"})),s.height()>window.innerHeight-30&&s.css({height:window.innerHeight-30+"px",minHeight:window.innerHeight-30+"px"}),s.css(f),r.each(function(b,c){a(c).css(f)}),q.showScroll){a("div[map-selector='"+r.selector+"']",r.context).remove(),s.append('<div map-selector="'+r.selector+'" class="c-q-scroll" mid="'+u+'" muid="'+t+'"><div class="c-q-bg"><div class="c-q-bar"></div></div></div>'),v=a("[muid="+t+"]",s),w=a(".c-q-bg",v),x=a(".c-q-bar",v),v.css({height:s.height()+"px",minWidth:"3px",width:q.width+"px",maxWidth:q.maxWidth+"px",border:"0",padding:"0",margin:"0",overflow:"hidden",position:"absolute",top:"0",left:r.position().left+r.width()-w.width()-1+"px"}),v.css(f),w.css({minWidth:"3px",height:s.height()+"px"}),w.css(f);var y=w.width()/2+1;x.css({minWidth:"3px",background:"rgba(0,0,0,0.005)",borderRadius:y+"px"}),x.css(f),b(x,r)}var z,A,B={x:0,y:0},C={x:0,y:0,mX:0,mY:0},D={x:0,y:0},E=r.height(),F=s.height(),G=a.isWP()||a.isAndroid()||a.isIphone();r.un("touchstart",r[0].__q_scrollbar_start),r.un("mouseover",r[0].__q_scrollbar_start),r.un("mousedown",r[0].__q_scrollbar_start),r.un("touchmove",r[0].__q_scrollbar_scroll),r.un("mousewheel",r[0].__q_scrollbar_scroll),r.un("touchend",r[0].__q_scrollbar_end),r.un("mouseup",r[0].__q_scrollbar_end),r.on({touchstart:m,mouseover:m,mousedown:m,touchmove:n,mousewheel:n,touchend:o,mouseup:o}),r.attr("data-bindScrollBar","true"),r[0].__q_scrollbar_start=m,r[0].__q_scrollbar_scroll=n,r[0].__q_scrollbar_end=o}var e={height:window.innerHeight,width:3,maxWidth:5,goX:60,goY:30,border:8,showScroll:!0,mousewheel:50,scrollBar:{bg:"rgba(0,0,0,0.5)"}},f=a.extend({},a.cssPrefix({"backface-visibility":"hidden"}));a.fn.scrollBar=d,a.sun&&a.sun.define(function(b,c,d){d.exports=a})}(Qmik);