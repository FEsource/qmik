!function(a,b){function c(a,b){session&&session.setItem(a,JSON.stringify(b))}function d(a){try{return session&&session[a]?JSON.parse(session[a]):[]}catch(b){return[]}}function e(a){var b=this;b.key=a,b._queue=d(a)}function f(){c(D.key,D._queue),c(E.key,E._queue)}function g(a){w.hash=a}function h(){return C?w.hash.replace(/^#/g,"").trim():w.search.replace(/.*#/g,"").trim()}function i(b){var c=b||h()||"",d=[];return a.each(c.split(/&|&amp;/g),function(b,c){var e=c.split("=");d[a.decode(e[0])]=a.decode(e[1])}),d}function j(b,c,d){b=l(b);var e=z(c)?b:b[c];try{return e.apply(b,d||[])}catch(f){a.log(b),a.log(c),a.log(d)}}function k(b){var c,d,e;return a.isObject(b)?(c=b.module,d=b.method,e=b.param):(e=i(b),c=e[config.module],d=e[config.method]),c&&y.use(c,function(a){j(a,d,e||[])}),c}function l(b){return b.constructor!=A&&a.isFun(b)&&a.isFun(b.getInstance)&&(b=b.getInstance()),b}function m(){k()||z(config.defaultModule)||k(config.defaultModule)}function n(){a(u).on("hashchange",m)}function o(){a(u).un("hashchange",m,n)}function p(a){var b=a.touches?a.touches[0]:a;return H.x=b.clientX-G.x,H.y=b.clientY-G.y,Math.abs(H.y)>=config.navDiff?"Y":H.x>=config.navDiff?"-X":H.x<=-config.navDiff?"+X":null}function q(b){q.thread&&q.thread.stop(),q.thread=a.delay(function(){I=!1},b||500)}function r(b){if(!I){F=null,I=!0,q(1e3);var c=b.touches?b.touches[0]:b;G.x=c.clientX,G.y=c.clientY,G.t=a.now()}}function s(b){return I&&a.likeNull(F)?(F=p(b),void 0):void 0}function t(b){if(I){if(q(200),F&&(b.preventDefault(),b.stopPropagation()),a.now()-G.t<500&&(a.isNull(b.button)||0==b.button))switch(F){case"+X":a.nav.forward();break;case"-X":a.nav.back()}F=null}}var u=a.global,v=u.document,w=location,x=a.encode,y=a.sun,z=(a.isFun,a.likeNull),A={}.constructor;session=u.sessionStorage,config={module:"module",method:"method",enableTouch:!1,navDiff:60};var B,C="onhashchange"in u&&(void 0===v.documentMode||v.documentMode>7);a.extend(e.prototype,{pop:function(){var a=this,b=null;return a.size()>0&&(b=a._queue[a.size()-1],a._queue.splice(a.size()-1,1)),b},push:function(a){var b=this;a&&b.get(b.size()-1)!=a&&b._queue.push(a)},get:function(a){return this._queue[a]},size:function(){return this._queue.length}});var D=new e("store_nav_goBack"),E=new e("store_nav_goForward");a(window).on({unload:f}),a(v).ready(function(){var a=h(),b=D.get(D.size()-1);a!=b&&D.push(a),m(),n()}),a.extend({nav:{use:function(b){var c=b.param||[],d=c.callback,e=b.method||"";y.use(b.module,function(f){f.constructor!=A&&a.isFun(f)&&a.isFun(f.getInstance)&&(f=f.getInstance());var h=[];h.push(x(config.module)+"="+x(b.module)),h.push(x(config.method)+"="+x(e)),a.each(c,function(a,b){h.push(x(a)+"="+x(b))}),B=h.join("&"),o(),g(B),D.push(B);var i=j(f,e,c);d&&d.apply(d,[i]),a.delay(n,500)})},getInfo:function(a){var b=i();return a?b[a]:b},back:function(){if(D.size()>0){var a=D.pop();C?history.back():k(a),E.push(a)}},forward:function(){if(E.size()>0){var a=E.pop();C?history.forward():k(a),D.push(a)}},flush:function(){B&&k(B)},onload:function(a){z(h())&&a()},config:function(b){return a.config(b,config)}}});var F,G={x:0,y:0,t:0},H={x:0,y:0},I=!1;"true"!=a("body").attr("data-bindNav")&&a("body").on({touchstart:r,mouseover:r,mousedown:r,touchmove:s,mousemove:s,touchend:t,mouseup:t}),b(function(b,c,d){d.exports=a})}(Qmik,Qmik.define);