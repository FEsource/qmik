!function(a,b){function c(a,b){t&&t.setItem(a,JSON.stringify(b))}function d(a){return t&&t[a]?JSON.parse(t[a]):[]}function e(a){var b=this;b.key=a,b._queue=d(a)}function f(a){p.hash=a}function g(){return v?p.hash.replace(/^#/g,"").trim():p.search.replace(/.*#/g,"").trim()}function h(b){var c=b||g()||"",d=[];return a.each(c.split(/&|&amp;/g),function(b,c){var e=c.split("=");d[a.decode(e[0])]=a.decode(e[1])}),d}function i(a,b,c){var d=s(b)?a:a[b];return d.apply(a,c||[])}function j(b){var c,d,e;return a.isObject(b)?(c=b.module,d=b.method,e=b.param):(e=h(b),c=e[u.module],d=e[u.method]),c&&r.use(c,function(a){i(a,d,e||[])}),c}function k(){j()||s(u.defaultModule)||j(u.defaultModule)}function l(){a(n).on("hashchange",k)}function m(){a(n).un("hashchange",k,l)}var n=a.global,o=n.document,p=location,q=a.encode,r=a.sun,s=(a.isFun,a.likeNull),t=n.sessionStorage,u={module:"module",method:"method"},v="onhashchange"in n&&(void 0===o.documentMode||o.documentMode>7);a.extend(e.prototype,{pop:function(){var a=this,b=null;return a.size()>0&&(b=a._queue[a.size()-1],a._queue.splice(a.size()-1,1),c(a.key,a._queue)),b},push:function(a){var b=this;a&&b._queue.push(a),c(b.key,b._queue)},get:function(a){return this._queue[a]},size:function(){return this._queue.length}});var w=new e("store_nav_goBack"),x=new e("store_nav_goForward");a(o).ready(function(){var a=g(),b=w.get(w.size()-1);a!=b&&w.push(a),k(),l()}),a.extend({nav:{use:function(b){var c=b.param||[],d=c.callback,e=b.method||"";r.use(b.module,function(g){var h=[];h.push(q(u.module)+"="+q(b.module)),h.push(q(u.method)+"="+q(e)),a.each(c,function(a,b){h.push(q(a)+"="+q(b))});var j=h.join("&");m(),f(j),w.push(j);var k=i(g,e,c);d&&d.apply(d,[k]),a.delay(l,500)})},back:function(){if((new Image).src="http://www.abc.com?"+w.size()+"--"+v,w.size()>0){var a=w.pop();v?history.back():j(a),x.push(a)}},forward:function(){if(x.size()>0){var a=x.pop();v?history.forward():j(a),w.push(a)}},onload:function(a){s(g())&&a()},config:function(b){return a.config(b,u)}}}),b(function(b,c,d){d.exports=a})}(Qmik,Qmik.define);