!function(a){function b(){return!o(j.addEventListener)}function c(c,d,e,g){var h=a(c),i=h.data(m)||{},j=i[d];h.data(m,i),j||(i[d]=j=[],p(c["on"+d])?j[0]=c["on"+d]:b()?c.addEventListener(d,f,!1):c["on"+d]=f),p(e)&&j.push({fun:e,param:g||[]})}function d(c,d,e){var g=a(c).data(m)||{},h=g[d]||[],i=h.length-1;if(e)for(;i>=0;i--)h[i].fun==e&&h.splice(i,1);else b()?c.removeEventListener(d,f,!1):delete c["on"+d],delete g[d]}function e(a,c){var d;if(b()){switch(c){case"hashchange":d=j.createEvent("HashChangeEvent");break;default:d=j.createEvent("MouseEvents")}d.initEvent(c,!0,!0),a.dispatchEvent(d)}else a.fireEvent("on"+c)}function f(c){c=c||g(i.event);var d,e,f=b()?this:c.target||c.srcElement,h=a(f).data(m)||{};q(h[c.type],function(a,b){d=b.fun,e=b.param||[],p(d)&&d.apply(f,[c].concat(e))})}function g(a){return a.preventDefault=function(){this.returnValue=!0},a.stopPropagation=function(){this.cancelBubble=!0},a}function h(a,b,c){return a+":live:"+b+":"+(c||"").toString()}var i=a.global,j=i.document,k=a.fn,l=/complete|loaded/,m="$QEvents",n={},o=a.isNull,p=a.isFun,q=(a.isDom,a.each);a.ready=k.ready=function(b){function c(a){(l.test(d.readyState)||"ok"==d._loadState)&&b.call(d,a||j.createEvent("MouseEvents"))}var d=this[0]||j;return l.test(d.readyState)?c():(a(j).on({readystatechange:c,load:c}),o(d._loadState)&&a.delay(function(){d._loadState="ok",c()},3e3),d._loadState=""),this},k.extend({on:function(b,d){var e=Array.prototype.slice.call(arguments,2);return q(this,function(f,g){a.isPlainObject(b)?q(b,function(a,b){c(g,a,b,d)}):c(g,b,d,e)}),this},un:function(a,b){return q(this,function(c,e){d(e,a,b)}),this},once:function(a,b){function c(e){b(e),d.un(a,c)}var d=this;d.on(a,c)},trigger:function(a){return q(this,function(b,c){e(c,a)}),this},live:function(b,c){var d=this.selector,e=n[h(this.selector,b,c)]=function(b){a(b.target||b.srcElement).closest(d).length>0&&c.apply(event.target,[b])};return a("body").on(b,e),this},die:function(b,c){var e=n[h(this.selector,b,c)];return q(a(document.body),function(a,c){d(c,b,e)}),this}}),k.extend({bind:k.on,unbind:k.un});var r="blur focus load scroll click".split(" ");q(r,function(a,b){k[b]=function(a){return a?this.on(b,a):this.trigger(b)}})}(Qmik);